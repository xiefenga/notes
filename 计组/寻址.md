# 寻址

寻址分为两种：

1. 确定本条指令的操作数地址（数据寻址）
2. 下一条要执行指令的指令地址（指令寻址）

# 指令寻址

1. 顺序寻址

	PC = PC + 1

2. 跳跃

	JMP　xxx

# 数据寻址

指令的格式：

![image-20201025193239731](https://xf-blog-imgs.oss-cn-hangzhou.aliyuncs.com/img/image-20201025193239731.png)

## 立即寻址

形式地址就是操作数

特点：

- 指令执行阶段不访存
- 形式地址的位数限制了立即数的大小

## 直接寻址

形式地址就是有效地址

特点：

- 执行阶段只访问一次存储器
- 形式地址的位数限制了该指令操作数的寻址范围
- 操作数的地址不易修改（必须修改形式地址的值才行）

## 隐含寻址

操作数地址隐含在操作码中

特点：

- 指定字中少了一个地址字段，可以缩短指令字长

## 间接寻址

有效地址由形式地址间接提供

![image-20201025202010980](https://xf-blog-imgs.oss-cn-hangzhou.aliyuncs.com/img/image-20201025202010980.png)

特点：

- 执行指令阶段多次访存
- 可以扩大寻址范围
- 便于编制程序（调用子程序）

## 寄存器寻址

有效地址就是寄存器标号（数据在寄存器中）

特点：

- 执行阶段不访存，之访问寄存器，执行速度快
- 寄存器个数有限，指令字长可被缩短

## 寄存器简介寻址

有效地址在寄存器中

特点：

- 有效地址在寄存器中，操作数在存储器中，执行阶段访存
- 便于编制循环程序

## 基址寻址

有效地址 = 形式地址 + 基址寄存器

### 专用寄存器做基址寄存器

特点：

- 可扩大寻址范围
- 有利于多道程序（分时）
- 基址寄存器由操作系统或管理程序确定
- 程序的执行过程中，基址寄存器不变，形式地址可变

### 通用寄存器做基址寄存器

特点：

- 由用户指定哪个通用寄存器作为基址寄存器
- 基址寄存器的内容由操作系统或管理程序确定
- 程序的执行过程中，基址寄存器不变，形式地址可变

## 变址寻址

有效地址 = 形式地址 + 变址寄存器

特点：

- 可扩大寻址范围
- 变址寄存器由用户给定
- 程序执行过程中变址寄存器内容可变，形式地址不变
- 便于处理数组（变址寄存器存下标，形式地址存首地址）

## 相对寻址

有效地址 = PC + 形式地址

特点：

- 形式地址的位数决定操作数的寻址范围
- 程序浮动
- 广泛用于指令转移

## 堆栈寻址

1. 硬堆栈	多个寄存器
2. 软堆栈    指定的存储空间

特点：

- 栈顶地址由 SP　指定
- 栈顶地址小，栈底地址大



