# 层叠规则

一个属性多次应用到同一个元素就发生了生命冲突，层叠就是解决声明冲突的过程

层叠规则：

1. 比较重要性
2. 比较特殊性
3. 比较源次序

## 重要性

1. 作者样式表中的 `!important`  样式
2. 作者样式表中的普通样式
3. 浏览器默认样式表中的样式

## 优先级

选择符的优先级由选择符本身的组成部分决定，一个优先级由四部分构成 `0, 0, 0, 0` 

零优先级战胜无优先级，所以 `*` 能战胜继承

**CSS权重进制在IE6为256，后来扩大到了65536。而现代浏览器则采用更大的数量**

| 选择器                | 优先级     |
| --------------------- | ---------- |
| 行间样式              | 1, 0, 0, 0 |
| id                    | 1, 0, 0    |
| class \| 属性 \| 伪类 | 0, 1, 0    |
| 标签 \| 伪元素        | 0, 0, 1    |
| 通配符                | 0, 0, 0    |

`!important` 对优先级没有影响，但是会和不重要的声明分开处理，重要的放在一起，不重要的放一起，发生冲突的属性使用优先级来解决。

# 属性值计算

- 浏览器渲染页面时是按照树形结构来渲染

- 渲染每个元素的前提条件：该元素的**所有**CSS属性必须有值

- 一个元素，从所有属性都没有值，到所有的属性都有值，这个过程叫做**属性值计算过程**

## 计算过程

1. 确定声明值

   将作者样式表和浏览器默认样式表中没有冲突的样式，作为css的属性值

2. 层叠冲突

   对样式表有冲突的声明使用层叠规则，确定CSS属性值

3. 使用继承

   对仍然没有值的属性，若可以继承，则继承父元素的值

4. 使用默认值

   对仍然没有值的属性，使用默认值
