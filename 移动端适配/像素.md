## 物理像素

一个像素由红绿蓝三个**像点**组成，通过空间混色法显示颜色

点距：相邻同种颜色像点的距离

点距可以用来描述像素，点距越小，等距离的像素越多，显示越好。

## 分辨率

分辨率一般分为屏幕分辨率和图像分辨率

### 屏幕分辨率

**屏幕分辨率**：指一个屏幕具体由多少个像素点组成

例如：iPhone XSMax 的分辨率为 2688x1242，表示手机分别在垂直和水平上所具有的像素点数为 2688 和 1242。

有一个非常有趣的现象，那就是 *PC* 端的屏幕显示器分辨率是横纵比，而手机屏幕却是纵横比。

![](https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055233.png)

由于以前大部分功能手机和黑莓屏幕都是横屏，后来屏幕慢慢扩大逐渐拉长不需要键盘区域了，而屏幕又越来越大，因此就将屏幕竖着放置。

因此，分辨率的表示方式仍然是横纵比，只不过因为屏幕竖着放了，给人的感觉是纵横比。

![](https://xiejie-typora.oss-cn-chengdu.aliyuncs.com/2022-02-23-055251.png)

我们经常见到用 K 和 P 两个单位来形容屏幕：

- P 代表的是屏幕**纵向**的像素个数， 1080P 即纵向有 1080 个像素，分辨率为 1920x1080 的屏幕就属于 1080P 屏幕。 
- K 代表屏幕**横向**有几个 1024 个像素，一般来讲横向像素超过 2048 就属于 2K 屏，横向像素超过 4096 就属于 4K 屏。

我们平时所说的高清屏其实就是屏幕的物理分辨率达到或超过 1920x1080 的屏幕。

### 显示分辨率

PC 的显示器分辨率是可以设置的，显示分辨率就是指系统或用户设置的分辨率。用户可以通过修改显示分辨率，修改系统字体大小。通常，显示分辨率小于等于设备分辨率。

以 MacBook Pro (13-inch, M1, 2020)  为例，其设备分辨率为 2560 x 1600，显示分辨率可以设置为 1440 x 900（系统默认分辨率）、1680 x 1050、1280 x 800、1024 x 640 等几个分辨率

当设置不同的分辨率时，系统将自动根据显示分辨率和物理分辨率的比值来拟合。例如，如果物理分辨率为2560 x 1600，而用户设置的显示分辨率为 1280 x 800，那么 1 个显示像素点将由 4 个物理像素点显示；如果用户设置的分辨率为 1440 x 900，物理分辨率和显示分辨率的比值并不是整数，那么系统将根据各个像素点的色值和亮度计算拟合显示 

### 图片分辨率

**图像分辨率**：一般指的是一张图片含有的像素数。

例如：一张图片的分辨率为 800x400，这表示图片分别在垂直和水平上所具有的像素点数为 800和 400。 

同一尺寸的图片，分辨率越高，图片越清晰。

## 参数

### PPI

PPI：每英寸包括的像素数，Pixel Per Inch

PPI 用于描述屏幕的清晰度以及一张图片的质量：

- 使用 PPI 描述图片时， PPI越高，图片质量越高
- 使用 PPI 描述屏幕时， PPI越高，屏幕越清晰

iPhone XSMax 和 iPhone SE 的 PPI 分别为 458 和 326，这足以证明 Phone XSMax 的屏幕更清晰。

### DPI

DPI：即每英寸包括的点数，Dot Per Inch

这里的点是一个抽象的单位，它可以是屏幕像素点、图片像素点也可以是打印机的墨点。

DPI 可以用来描述图片和屏幕，此时 DPI 和 PPI 是等价的，DPI 一般用于描述打印机，表示打印机每英寸可以打印的点数。

一张图片在屏幕上显示时，它的像素点数是规则排列的，每个像素点都有特定的位置和颜色。 当使用打印机进行打印时，打印机可能不会规则的将这些点打印出来，而是使用一个个打印点来呈现这张图像，这些打印点之间会有一定的空隙，DPI所描述的就是打印点的密度。

打印机的 DPI越高，打印图像的精细程度就越高，同时这也会消耗更多的墨点和时间。

## 屏幕像素分类

### 设备独立像素

随着科技的发展，低分辨率的手机已经不能满足需求，高分辨率屏幕就诞生了。

理论上来讲，320x480 分辨率手机上的图片和文字，在 640x940 分辨率手机上会被缩放为原来的1/4，因为它的分辨率提高了一倍。

事实上我们现在使用的智能手机，不管分辨率多高，他们所展示的界面比例都是基本类似的。

乔布斯在 iPhone4 的发布会上首次提出了 RetinaDisplay(视网膜屏幕)的概念，解决了上面的问题，也使它成为一款跨时代的手机。 

在 iPhone4 使用的视网膜屏幕中，把 2x2 个像素当 1 个像素使用，这样让屏幕看起来更精致，但是元素的大小却不会改变。 

我们必须用一种单位来告诉不同分辨率的手机，它们在界面上显示元素的大小是多少：

这个单位就是设备独立像素 DeviceIndependentPixels，简称 DIP 或 DP，也称逻辑像素

Chrome 开发者工具可以模拟各个手机型号的显示情况，每种型号上面会显示一个尺寸，该尺寸的单位就是设备独立像素。

比如：iPhone X 显示的尺寸是 375 x 812，实际 iPhone X 的分辨率 2436 x 1125 比这高很多，这里显示的就是设备独立像素。

![](https://oss.xiefeng.tech/images/20210919184910.png)

### 逻辑分辨率

逻辑分辨率即用逻辑像素（设备独立像素）来表示屏幕的分辨率

通过 `screen.width/height` 即可得到整个屏幕的逻辑尺寸，并且该数值不随页面缩放、浏览器窗口大小而改变

- 在 PC 中这个数值就是系统设定的显示分辨率的大小
- 对于移动端，在 Chrome 开发者工具中打开移动端调试，页面顶部显示的就是逻辑分辨率

以 iPhone X 为例，其逻辑分辨率（设备独立像素数）为  375 x 812

### 设备像素比

**物理像素**和**设备独立像素**的比值，即一个设备独立像素需要多少个物理像素来显示

device pixel ratio 简称 dpr

通过 `window.devicePixelRatio` 可以获取设备的 dpr，在 CSS 中可以使用媒体查询 `min-device-pixel-ratio` 区分 dpr。

移动端开发中样式单位使用的都是设备独立像素，iOS的尺寸单位为 `pt`， Android的尺寸单位为 `dp`，它们其实都是设备独立像素 `dp`。

UI 给我们的原型图一般是基于 iphone6 的像素给定的， 为了适配所有机型，我们在写样式时需要把物理像素转换为设备独立像素。

例如给定一个元素的高度为 `200px` (这里的 `px` 指物理像素)， iphone6 的设备像素比为 2，我们给的高度应为 `200px / 2 = 100dp`

### 设计像素

iPhone6/7/8Plus 的分辨率为 1080x1920，开发者工具中显示的逻辑分辨率为 414x736，DPR 为 3

设备独立像素和设备像素比的乘积为 1242x2208，并不等于 1080x1920

实际上手机会自动把 1242x2208 个像素点塞进 1080x1920 个物理像素点来渲染，我们不用关心这个过程。而 1242x2208 被称为屏幕的**设计像素**，我们开发过程中也是以这个**设计像素**为准。

实际上，从苹果提出视网膜屏幕开始，才出现设备像素比这个概念，在这之前，移动设备都是直接使用物理像素来进行展示。

## Retina

让多个物理像素渲染一个独立像素只是 Retina 屏幕为了达到效果而使用的一种技术，而不是所有 DPR>1的屏幕就是 Retina屏幕。 

比如：给你一块超大尺寸的屏幕，即使它的 PPI 很高， DPR 也很高，在近距离你也能看清它的像素点，这就不算 Retina 屏幕。

## CSS像素

CSS 认为浏览器中 1 CSS 像素的大小在不同物理设备上看上去大小总是差不多，所以 CSS 规范中使用**"参考像素"**来进行换算

**参考像素：**一个 CSS 像素应当看起来是在距离观察者一臂之遥且像素密度为 96 DPI 的屏幕中的一个物理像素

通常认为常人臂长为28英寸，所以它的视角是：**(1/96)in / (28in * 2 * PI / 360deg) = 0.0213度**

所以 CSS 像素是一个**视角单位**，在真正实现时，为了方便基本都是根据**设备像素**换算的。

实际上默认情况下，**一个 CSS 像素的大小等于一个设备独立像素**

// 一般来说，PC 端在没有缩放（包括系统缩放和页面缩放）的情况下 `1px = 1 物理像素`，也就是 DPR = 1

// Mac 中内建了视网膜显示器，所以 DPR 一般不会为 1

CSS 像素的相对大小是很容易被改变的，当用户对浏览器进行了放大， CSS 像素的相对大小就会改变

**页面的缩放系数 = CSS像素 / 设备独立像素**

## 倍图

对于一张 100px * 100px 的图片，对尺寸进行设置：

```css
width:100px;
height:100px;
```

在普通显示屏的电脑中打开是正常的，但在 Retina 屏中打开，由于 dpr 为 2，就会拿 4 个物理像素来描绘 1 个电子像素

这等于拿一个2倍的放大镜去看图片，图片就会变得模糊

所以对于 Retina 屏幕，当 dpr > 1 时就不能使用原始分辨率的图片，所以就需要准备 2 倍图，3 倍图



